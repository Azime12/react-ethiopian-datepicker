(function(h,t){typeof exports=="object"&&typeof module<"u"?t(exports,require("react/jsx-runtime"),require("react"),require("react-dom"),require("lucide-react")):typeof define=="function"&&define.amd?define(["exports","react/jsx-runtime","react","react-dom","lucide-react"],t):(h=typeof globalThis<"u"?globalThis:h||self,t(h.ReactEthiopianDatePicker={},h.jsxRuntime,h.React,h.ReactDOM,h.LucideReact))})(this,(function(h,t,u,de,T){"use strict";function ie(e,r,o){const a=Math.floor((14-r)/12),c=e+4800-a,l=r+12*a-3;return o+Math.floor((153*l+2)/5)+365*c+Math.floor(c/4)-Math.floor(c/100)+Math.floor(c/400)-32045}function J(e){const r=e+32044,o=Math.floor((4*r+3)/146097),a=r-Math.floor(146097*o/4),c=Math.floor((4*a+3)/1461),l=a-Math.floor(1461*c/4),y=Math.floor((5*l+2)/153);return{day:l-Math.floor((153*y+2)/5)+1,month:y+3-12*Math.floor(y/10),year:100*o+c-4800+Math.floor(y/10)}}const X=1724221;function W(e,r,o){const a=Math.floor((e-1)/4),c=(e-1)%4,l=[0,365,730,1096][c];return X+1461*a+l+30*(r-1)+(o-1)}function pe(e){const r=e-X,o=Math.floor(r/1461),a=r%1461;let c,l;return a<365?(c=0,l=a):a<730?(c=1,l=a-365):a<1096?(c=2,l=a-730):(c=3,l=a-1096),{year:4*o+c+1,month:Math.floor(l/30)+1,day:l%30+1}}const V=e=>e%4===3,L=(e,r)=>r<13?30:V(e)?6:5,U=(e,r)=>new Date(e,r,0).getDate(),he=(e,r)=>new Date(e,r-1,1).getDay(),fe=(e,r)=>{const o=J(W(e,r,1));return new Date(o.year,o.month-1,o.day).getDay()},I=e=>pe(ie(e.getFullYear(),e.getMonth()+1,e.getDate())),K=(e,r,o)=>{const a=J(W(e,r,o));return new Date(a.year,a.month-1,a.day)},P=["áˆ˜áˆµáŠ¨áˆ¨áˆ","áŒ¥á‰…áˆá‰µ","áˆ•á‹³áˆ­","á‰³áˆ•áˆ³áˆµ","áŒ¥áˆ­","á‹¨áŠ«á‰²á‰µ","áˆ˜áŒ‹á‰¢á‰µ","áˆšá‹«á‹šá‹«","áŒáŠ•á‰¦á‰µ","áˆ°áŠ”","áˆáˆáˆŒ","áŠáˆáˆ´","á“áŒ‰áˆœ"],Q=["áŠ¥áˆ‘","áˆ°áŠž","áˆ›áŠ­","áˆ¨á‰¡","áˆáˆ™","á‹“áˆ­","á‰…á‹³"],Z=["January","February","March","April","May","June","July","August","September","October","November","December"],R=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],F=e=>e?`${P[e.month-1]} ${e.day}á£ ${e.year} á‹“.áˆ`:"",H=e=>e?e.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"",ye=({year:e,month:r})=>r===1?{year:e-1,month:13}:{year:e,month:r-1},ue=({year:e,month:r})=>r===13?{year:e+1,month:1}:{year:e,month:r+1},be=({year:e,month:r})=>r===1?{year:e-1,month:12}:{year:e,month:r-1},ge=({year:e,month:r})=>r===12?{year:e+1,month:1}:{year:e,month:r+1},g=(...e)=>e.filter(Boolean).join(" ");function Y({label:e,isToday:r,isSelected:o,isEmpty:a,onClick:c,customClasses:l={}}){return a?t.jsx("div",{className:"w-9 h-9"}):t.jsx("button",{type:"button",onClick:c,className:g("w-9 h-9 rounded-lg text-sm font-medium flex items-center justify-center transition-all duration-100 focus:outline-none select-none",o?"shadow-md scale-105 font-bold":"",l.base),style:{backgroundColor:o?"var(--dp-selected-bg)":r?"var(--dp-primary-alpha)":"transparent",color:o?"#fff":r?"var(--dp-accent)":"var(--dp-text)",boxShadow:o?"0 4px 12px var(--dp-selected-shadow)":"none",border:r&&!o?"2px solid var(--dp-today-ring)":"none"},children:e})}function ee({onPrev:e,onNext:r,month:o,monthList:a=[],onMonthChange:c,badge:l,year:y,yearSuffix:x="",yearRange:m=[],onYearChange:f,customClasses:i={},Icons:d={}}){const[p,v]=u.useState(!1),[N,D]=u.useState(!1),k=u.useRef(null),M=u.useRef(null);u.useEffect(()=>{if(!p||!k.current)return;const s=k.current.querySelector('[data-selected="true"]');s&&s.scrollIntoView({block:"center"})},[p]),u.useEffect(()=>{if(!N||!M.current)return;const s=M.current.querySelector('[data-selected="true"]');s&&s.scrollIntoView({block:"center"})},[N]);const C=()=>{v(s=>!s),D(!1)},G=()=>{D(s=>!s),v(!1)},A=s=>({backgroundColor:s?"var(--dp-primary)":"var(--dp-primary-alpha)",color:s?"#fff":"var(--dp-accent)"}),S=s=>({backgroundColor:s?"var(--dp-primary)":"transparent",color:s?"#fff":"var(--dp-text)"}),O=g("absolute z-50 top-full left-1/2 -translate-x-1/2 mt-1 overflow-y-auto rounded-xl border shadow-2xl",i.dropdown);return t.jsxs("div",{className:g("flex items-center justify-between mb-3",i.container),children:[t.jsx("button",{type:"button",onClick:e,className:g("w-8 h-8 flex items-center justify-center rounded-lg transition-colors hover:bg-white/10",i.navBtn),style:{color:"var(--dp-text-muted)"},children:t.jsx(d.ChevronLeft,{size:16})}),t.jsxs("div",{className:"flex items-center gap-1 select-none",children:[a.length>0&&c?t.jsxs("div",{className:"relative",children:[t.jsxs("button",{type:"button",onClick:C,style:A(p),className:g("text-xs font-bold px-2.5 py-1 rounded-lg transition-all",i.picker),children:[a[o-1]," ",l&&t.jsx("span",{className:"ml-0.5",children:l}),"â–¾"]}),p&&t.jsx("div",{ref:k,className:g(O,"w-32 max-h-44"),style:{scrollbarWidth:"thin",backgroundColor:"var(--dp-bg)",borderColor:"var(--dp-border)"},children:a.map((s,w)=>t.jsx("button",{type:"button","data-selected":w+1===o?"true":"false",onClick:()=>{c(w+1),v(!1)},className:g("w-full text-center text-xs py-2 transition-colors whitespace-nowrap px-3 hover:bg-[var(--dp-border)]"),style:S(w+1===o),children:s},w))})]}):null,m.length>0&&f?t.jsxs("div",{className:"relative",children:[t.jsxs("button",{type:"button",onClick:G,style:A(N),className:g("text-xs font-bold px-2.5 py-1 rounded-lg transition-all",i.picker),children:[y,x," â–¾"]}),N&&t.jsx("div",{ref:M,className:g(O,"w-28 max-h-44"),style:{scrollbarWidth:"thin",backgroundColor:"var(--dp-bg)",borderColor:"var(--dp-border)"},children:m.map(s=>t.jsxs("button",{type:"button","data-selected":s===y?"true":"false",onClick:()=>{f(s),D(!1)},className:g("w-full text-center text-xs py-2 transition-colors whitespace-nowrap px-3 hover:bg-[var(--dp-border)]"),style:S(s===y),children:[s,x]},s))})]}):null]}),t.jsx("button",{type:"button",onClick:r,className:g("w-8 h-8 flex items-center justify-center rounded-lg transition-colors hover:bg-white/10",i.navBtn),style:{color:"var(--dp-text-muted)"},children:t.jsx(d.ChevronRight,{size:16})})]})}function me({year:e,month:r,selectedEth:o,todayEth:a,onSelect:c,labels:l={},customClasses:y={}}){const x=fe(e,r),m=L(e,r),f=l.days||Q,i=[];for(let d=0;d<x;d++)i.push(null);for(let d=1;d<=m;d++)i.push(d);return t.jsxs("div",{className:"grid grid-cols-7 gap-y-1 gap-x-0.5",children:[f.map(d=>t.jsx("div",{className:g("w-9 h-7 flex items-center justify-center font-bold",y.weekday),style:{color:"var(--dp-accent)",fontSize:"10.5px",opacity:.9},children:d},d)),i.map((d,p)=>d===null?t.jsx(Y,{isEmpty:!0},`b${p}`):t.jsx(Y,{label:d,customClasses:y.dayCell,isToday:a&&d===a.day&&r===a.month&&e===a.year,isSelected:o&&d===o.day&&r===o.month&&e===o.year,onClick:()=>c(e,r,d)},`d${d}`))]})}function xe({year:e,month:r,selectedDate:o,today:a,onSelect:c,labels:l={},customClasses:y={}}){const x=he(e,r),m=U(e,r),f=l.days||R,i=[];for(let p=0;p<x;p++)i.push(null);for(let p=1;p<=m;p++)i.push(p);const d=(p,v)=>v&&p===v.getDate()&&r===v.getMonth()+1&&e===v.getFullYear();return t.jsxs("div",{className:"grid grid-cols-7 gap-y-1 gap-x-0.5",children:[f.map(p=>t.jsx("div",{className:g("w-9 h-7 flex items-center justify-center font-bold",y.weekday),style:{color:"var(--dp-accent)",fontSize:"10.5px",opacity:.8},children:p},p)),i.map((p,v)=>p===null?t.jsx(Y,{isEmpty:!0},`b${v}`):t.jsx(Y,{label:p,customClasses:y.dayCell,isToday:d(p,a),isSelected:d(p,o),onClick:()=>c(new Date(e,r-1,p))},`d${p}`))]})}function ve({anchorRef:e,children:r,dropW:o=316}){const[a,c]=u.useState({});return u.useEffect(()=>{if(!e.current)return;const l=e.current.getBoundingClientRect();let y=l.left+window.scrollX;y+o>window.innerWidth-8&&(y=window.innerWidth-o-8),c({position:"absolute",top:l.bottom+window.scrollY+6,left:y,width:o,zIndex:99999})},[e,o]),de.createPortal(t.jsx("div",{style:a,children:r}),document.body)}function te({value:e=null,onChange:r,defaultCalendar:o="ethiopian",label:a,placeholder:c="á‰€áŠ• á‹­áˆáˆ¨áŒ¡â€¦",disabled:l=!1,customization:y={}}){var re,oe,ae,ne,le,se,ce;const{labels:x={},classes:m={},config:f={},colors:i={}}=y,d={Calendar:((re=f.icons)==null?void 0:re.Calendar)||T.Calendar,X:((oe=f.icons)==null?void 0:oe.X)||T.X,ChevronLeft:((ae=f.icons)==null?void 0:ae.ChevronLeft)||T.ChevronLeft,ChevronRight:((ne=f.icons)==null?void 0:ne.ChevronRight)||T.ChevronRight,Switch:((le=f.icons)==null?void 0:le.Switch)||T.ArrowLeftRight},p={sm:"px-3 py-1.5 text-xs rounded-lg gap-2",md:"px-4 py-2.5 text-sm rounded-xl gap-3",lg:"px-5 py-3.5 text-base rounded-2xl gap-4"}[f.inputSize||"md"],v={"--dp-primary":i.primary||"#7c3aed","--dp-primary-alpha":i.primary?`${i.primary}26`:"rgba(124, 58, 237, 0.15)","--dp-bg":i.background||"#111827","--dp-bg-alt":i.backgroundAlt||"rgba(0, 0, 0, 0.2)","--dp-border":i.border||"rgba(255, 255, 255, 0.1)","--dp-text":i.text||"#f3f4f6","--dp-text-muted":i.textMuted||"#9ca3af","--dp-accent":i.accent||"#a78bfa","--dp-today-ring":i.todayRing||"#a78bfa","--dp-selected-bg":i.selectedBg||"#7c3aed","--dp-selected-shadow":i.selectedShadow||"rgba(109, 40, 217, 0.4)",fontSize:f.fontSize||"inherit",fontFamily:f.fontFamily||"inherit"},N=new Date,D=I(N),[k,M]=u.useState(!1),[C,G]=u.useState(o),[A,S]=u.useState(null),O=e?I(e):D,[s,w]=u.useState({year:O.year,month:O.month}),[j,E]=u.useState({year:e?e.getFullYear():N.getFullYear(),month:e?e.getMonth()+1:N.getMonth()+1}),$=u.useRef(null);u.useEffect(()=>{if(!k)return;const n=b=>{var _;(_=$.current)!=null&&_.contains(b.target)||b.target.closest("[data-eth-dp]")||M(!1)};return document.addEventListener("mousedown",n,!0),()=>document.removeEventListener("mousedown",n,!0)},[k]),u.useEffect(()=>{if(!e){S(null);return}if(!A){const n=I(e);w({year:n.year,month:n.month})}E({year:e.getFullYear(),month:e.getMonth()+1})},[e]);const z=A??(e?I(e):null),we=u.useCallback((n,b,_)=>{S({year:n,month:b,day:_}),w({year:n,month:b}),r==null||r(K(n,b,_)),M(!1)},[r]),Ne=u.useCallback(n=>{S(null),E({year:n.getFullYear(),month:n.getMonth()+1}),r==null||r(n),M(!1)},[r]),ke=n=>{n.stopPropagation(),S(null),r==null||r(null)},Ce=e?C==="ethiopian"?F(z):H(e):"",q=C==="ethiopian"&&s.month===13,B=q?L(s.year,13):0;return t.jsxs("div",{style:v,className:"eth-dp-theme-root",children:[t.jsxs("div",{ref:$,className:g("relative w-full",m.container),children:[a&&t.jsx("label",{className:"block text-xs font-semibold mb-1.5 uppercase tracking-wider",style:{color:"var(--dp-text-muted)"},children:a}),t.jsxs("button",{type:"button",disabled:l,onClick:()=>{l||M(n=>!n)},className:g("w-full flex items-center border text-left transition-all duration-200 focus:outline-none",p,l?"opacity-50 cursor-not-allowed":"cursor-pointer hover:bg-[var(--dp-border)]",m.trigger),style:{backgroundColor:"var(--dp-bg-alt)",borderColor:k?"var(--dp-primary)":"var(--dp-border)",boxShadow:k?"0 0 0 4px var(--dp-primary-alpha)":"none"},children:[t.jsx(d.Calendar,{size:f.inputSize==="sm"?13:15,style:{color:"var(--dp-accent)"},className:"shrink-0"}),t.jsx("span",{className:"flex-1 truncate",style:{color:e?"var(--dp-text)":"var(--dp-text-muted)"},children:Ce||c}),e&&!l&&!f.hideClear&&t.jsx("span",{role:"button",tabIndex:0,onClick:ke,className:"p-0.5 rounded hover:bg-white/10 transition-colors shrink-0",style:{color:"var(--dp-text-muted)"},children:t.jsx(d.X,{size:f.inputSize==="sm"?12:14})})]})]}),k&&t.jsx(ve,{anchorRef:$,dropW:f.dropdownWidth||316,children:t.jsxs("div",{"data-eth-dp":"true",className:g("rounded-2xl border shadow-2xl overflow-hidden",m.dropdown),style:{...v,backgroundColor:"var(--dp-bg)",borderColor:"var(--dp-border)",color:"var(--dp-text)",animation:"dpIn 0.16s cubic-bezier(.22,.68,0,1.2) both",zIndex:999999},children:[t.jsxs("div",{className:"flex items-center justify-between px-4 py-2.5 border-b",style:{borderColor:"var(--dp-border)",backgroundColor:"var(--dp-bg-alt)"},children:[t.jsxs("div",{className:"flex rounded-lg p-0.5 gap-0.5",style:{backgroundColor:"var(--dp-border)"},children:[t.jsx("button",{type:"button",onClick:()=>G("ethiopian"),className:"px-3 py-1 rounded-md text-xs font-semibold transition-all",style:{backgroundColor:C==="ethiopian"?"var(--dp-primary)":"transparent",color:C==="ethiopian"?"#fff":"var(--dp-text-muted)"},children:x.ethTab||"ðŸ‡ªðŸ‡¹ áŠ¢á‰µá‹®áŒµá‹«"}),t.jsx("button",{type:"button",onClick:()=>G("gregorian"),className:"px-3 py-1 rounded-md text-xs font-semibold transition-all",style:{backgroundColor:C==="gregorian"?"var(--dp-primary)":"transparent",color:C==="gregorian"?"#fff":"var(--dp-text-muted)"},children:x.gregTab||"ðŸŒ Gregorian"})]}),!f.hideSwitch&&t.jsx("button",{type:"button",onClick:()=>G(n=>n==="ethiopian"?"gregorian":"ethiopian"),className:"w-7 h-7 flex items-center justify-center rounded-lg transition-colors hover:bg-white/10",style:{color:"var(--dp-text-muted)"},children:t.jsx(d.Switch,{size:13})})]}),t.jsx("div",{className:"p-4",children:C==="ethiopian"?t.jsxs(t.Fragment,{children:[t.jsx(ee,{Icons:d,month:s.month,monthList:x.ethiopianMonths||P,onMonthChange:n=>w(b=>({...b,month:n})),badge:q?t.jsxs("span",{className:"text-[10px] bg-amber-400/10 border border-amber-400/20 px-1 py-0.5 rounded-full ml-0.5 text-amber-400",children:[B,x.pagumeSuffix||"á‰€"]}):null,year:s.year,yearSuffix:" á‹“.áˆ",yearRange:f.yearRangeEth||Array.from({length:201},(n,b)=>1950+b),onYearChange:n=>w(b=>({...b,year:n})),onPrev:()=>w(n=>ye(n)),onNext:()=>w(n=>ue(n)),customClasses:m.header}),t.jsx(me,{year:s.year,month:s.month,selectedEth:z,todayEth:D,onSelect:we,labels:{days:x.ethiopianDays},customClasses:{weekday:m.weekday,dayCell:m.dayCell}}),q&&t.jsxs("div",{className:"mt-3 rounded-lg border px-3 py-2 text-[11px] text-center leading-relaxed",style:{backgroundColor:"rgba(251, 191, 36, 0.1)",borderColor:"rgba(251, 191, 36, 0.2)",color:"#fcd34d"},children:["á“áŒ‰áˆœ ",B," á‰€áŠ“á‰µ áŠ áˆ‰á‰µ",B===6?" Â· á‹˜áˆ˜áŠ á‹®áˆáŠ•áˆµ (á‹¨áˆáˆ™áˆµ á‹“áˆ˜á‰µ)":" Â· á‹˜áˆ˜áŠ áˆ›á‰´á‹Žáˆµ / áˆ›áˆ­á‰†áˆµ / áˆ‰á‰ƒáˆµ"]})]}):t.jsxs(t.Fragment,{children:[t.jsx(ee,{Icons:d,month:j.month,monthList:x.gregorianMonths||Z,onMonthChange:n=>E(b=>({...b,month:n})),year:j.year,yearSuffix:"",yearRange:f.yearRangeGreg||Array.from({length:201},(n,b)=>1957+b),onYearChange:n=>E(b=>({...b,year:n})),onPrev:()=>E(n=>be(n)),onNext:()=>E(n=>ge(n)),customClasses:m.header}),t.jsx(xe,{year:j.year,month:j.month,selectedDate:e,today:N,onSelect:Ne,labels:{days:x.gregorianDays},customClasses:{weekday:m.weekday,dayCell:m.dayCell}})]})}),e&&z&&t.jsx("div",{className:g("px-4 pb-4 pt-3 border-t",m.footer),style:{borderColor:"var(--dp-border)",backgroundColor:"var(--dp-bg-alt)"},children:t.jsxs("div",{className:"rounded-xl border p-3 space-y-1.5",style:{backgroundColor:"var(--dp-primary-alpha)",borderColor:"var(--dp-primary-alpha)"},children:[t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsx("span",{className:"text-[10px] uppercase tracking-wider",style:{color:"var(--dp-text-muted)"},children:((se=x.ethTab)==null?void 0:se.replace(/[^\w\s]/gi,""))||"áŠ¢á‰µá‹®áŒµá‹«"}),t.jsx("span",{className:"text-xs font-semibold",style:{color:"var(--dp-accent)"},children:F(z)})]}),t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsx("span",{className:"text-[10px] uppercase tracking-wider",style:{color:"var(--dp-text-muted)"},children:((ce=x.gregTab)==null?void 0:ce.replace(/[^\w\s]/gi,""))||"Gregorian"}),t.jsx("span",{className:"text-xs font-semibold",style:{color:"var(--dp-text)"},children:H(e)})]})]})})]})}),t.jsx("style",{children:`
                .eth-dp-theme-root [type="button"]:hover {
                    background-color: var(--dp-border);
                }
                @keyframes dpIn {
                    from { opacity: 0; transform: translateY(-8px) scale(0.97); }
                    to   { opacity: 1; transform: translateY(0) scale(1); }
                }
            `})]})}h.ETHIOPIAN_DAYS_AM=Q,h.ETHIOPIAN_MONTHS_AM=P,h.EthiopianDatePicker=te,h.GREGORIAN_DAYS_EN=R,h.GREGORIAN_MONTHS_EN=Z,h.dateToEth=I,h.default=te,h.ethToDate=K,h.formatEthDate=F,h.formatGregDate=H,h.getDaysInEthMonth=L,h.getDaysInGregorianMonth=U,h.isEthLeapYear=V,Object.defineProperties(h,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})}));
